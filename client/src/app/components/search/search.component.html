<h3 class="my-4">
    <small>Search results</small>
</h3>
<form #searchBook="ngForm" (ngSubmit)="advancedSearchBooks(searchBook,0)">
    <div class="from row">
        <div class="form-group col  ">
            <input type="email" class="form-control" placeholder="Search for anything" name="content" id="content"
                rows="3" [(ngModel)]="model.content">

        </div>
    </div>
    <div class="from row">
        <div class="form-group col">
            <input type="email" class="form-control" placeholder="Author" name="author" id="author" rows="3"
                [(ngModel)]="model.author">
        </div>
        <div class="form-group col">
            <input type="email" class="form-control" placeholder="Subject" name="subject" id="subject" rows="3"
                [(ngModel)]="model.subject">
        </div>
        <div class="form-group col">
            <input type="email" class="form-control" placeholder="Publisher" name="publisher" id="publisher" rows="3"
                [(ngModel)]="model.publisher">

        </div>
    </div>
    <button style="background-color:#0faafb;border-radius: 17px; color:white;font-weight: bold;border: none;"
        type="submit" class="btn btn-secondary">Go</button>
</form>
<div *ngIf="waiting == true; then block else elseBlock"></div>
<ng-template #block>
    <div class="row justify-content-center" style="align-items: center;height: 50%;">
        <div class="spinner-grow text-primary" style="width: 3rem;height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-secondary" style="width: 3rem;height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-success" style="width: 3rem;height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-danger" style="width: 3rem;height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-warning" style="width: 3rem;height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-info" style="width: 3rem;height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-light" style="width: 3rem;height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-dark" style="width: 3rem;height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</ng-template>
<ng-template #elseBlock>

    <div>
        <hr>
        <div class="row justify-content-center">
            <div *ngIf="numberItems === 0">
                <h5>No books found</h5>
            </div>
            <div *ngFor="let book of books" style="margin-bottom: 5%;" class="col-md-2">
                <div style="cursor: pointer;" class="card">
                    <img routerLink='/books/{{book.id}}' (mouseover)="print(book.id)" [ngbTooltip]="tipContent"
                        tooltipClass="class" placement="right" style="width: 100%;height: 190px;"
                        src="{{book?.volumeInfo?.thumbnail}}" class="card-img-top" alt="...">

                </div>
            </div>
        </div>
        <hr>
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
                <li class="page-item" [ngClass]="{'disabled': currentIndex === 0}">
                    <a class="page-link" href="javascript:void(0)"
                        (click)="advancedSearchBooks(searchBook,currentIndex-18)">Previous</a>
                </li>
                <li *ngFor="let in of counter(pagination) ;let i = index;" class="page-item"><a class="page-link active"
                        href="javascript:void(0)"
                        [ngStyle]="(currentIndex / 18 === i) && { 'background': '#007bff','color':'white'}"
                        (click)="advancedSearchBooks(searchBook,i*18);setCurrentIndex(i*18);">{{i+1}}</a>
                </li>
                <li class="page-item" [ngClass]="{'disabled': currentIndex + 18 >= numberItems}">
                    <a class="page-link" href="javascript:void(0)"
                        (click)="advancedSearchBooks(searchBook,currentIndex+18)">Next</a>
                </li>
            </ul>
        </nav>
    </div>
</ng-template>
<ng-template #tipContent>
    <div class="card" style="width: 18rem;">
        <div style="background-color: black;" class="card-body">
            <h5 class="card-title">{{test.volumeInfo?.title}}</h5>
            <h6> <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star"></span>
                <span class="fa fa-star"></span></h6>
            <h6>Author(s): {{test.volumeInfo?.authors?.join(',')}}</h6>
            <h6>Publisher: {{test.volumeInfo?.publisher}}</h6>
            <h6>{{test.volumeInfo?.description?.substring(0,200)}}...</h6>
        </div>
    </div>
</ng-template>